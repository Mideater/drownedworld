{"name":"3d20 Skill Roll","type":"script","scope":"global","author":"W4eVeWm2pD6oM5bE","img":"icons/svg/dice-target.svg","command":"//Create a roll term with flavor text and execute the roll. Wait for the result and make the roll async.\n// Note: Instead of \"evaluate\" --> \"roll\" can be used they seem identical \nlet dies = await new Roll(\"1d20[black]+1d20[red]+1d20[yellow]\").evaluate({async: true});\n\n// Create a html based Chat message which will be outputed.\nlet ChatData={\n// let the roll take part as a roll of the actor. If speaker ist deleted then the roll takes place as the player.\nspeaker: ChatMessage.getSpeaker({token: actor}),\n// This was asked for by the Dice so Nice API. Currently not clear what it exactly does\ntype: CONST.CHAT_MESSAGE_TYPES.ROLL,\n// Rolls a pool of dice/diceterms. If more than one diceterm/dices are rolled then an array of objects needs to be defined --> [r1,r2,r3]\nrolls: [dies],\n// This was asked for by the Dice so Nice API. Currently not clear what it exactly does\nrollMode: game.settings.get(\"core\", \"rollMode\"),\n// Create HTML template for Chat message output. Each Dice in the dice term is an object in an array thus we need to adress it with dies.dice[x]. Remember: arrays start with an index of 0 in java script\ncontent:`\n<div class=\"dice-roll\">\n  <div class=\"dice-result\">\n   <div class=\"dice-tooltip\" style=\"display: block;\">\n    <section class=\"tooltip-part\">\n        <div class=\"dice\">\n              <ol class=\"dice-rolls\">\n                <li class=\"roll die d20\" style=\"transform: scale(1.1);margin-right: 4px\">${dies.dice[0].results[0].result}</li>\n                <li class=\"roll die d20 min\" style=\"transform: scale(1.1);margin-right: 4px\">${dies.dice[1].results[0].result}</li>\n                <li class=\"roll d20\" style=\"transform: scale(1.1);margin-right: 4px; color: yellow; filter: sepia(0.5) saturate(6)contrast(0.8) brightness(1.1)\">${dies.dice[2].results[0].result}</li>\n            </ol>\n\n        </div>\n    </section>\n  </div>\n     <h4 class=\"dice-total\">${dies.dice[0].results[0].result} / ${dies.dice[1].results[0].result} / ${dies.dice[2].results[0].result} </h4>\n </div>\n</div> `\n}\n// Create the Chat message\nChatMessage.create(ChatData);","ownership":{"default":0,"W4eVeWm2pD6oM5bE":3},"flags":{"core":{"sourceId":"Macro.uGLqwKSrw3SEiMaJ"}},"_stats":{"systemId":"dsa5","systemVersion":"4.1.20","coreVersion":"10.291","createdTime":1670488013537,"modifiedTime":1670488629780,"lastModifiedBy":"W4eVeWm2pD6oM5bE"},"folder":null,"sort":0,"_id":"krzN4mLTVo9LPJBh"}
